pipeline{
  agent any
  tools{
   maven 'maven-3.9.1'
  }
  stages{
   stage('Code Build'){
      steps{
        sh 'mvn clean package'
      }
    }
    stage('Install Tomcat')
    { 
      steps
      {
        ansiblePlaybook become: true, credentialsId: 'server_key', disableHostKeyChecking: true, installation: 'ansible', inventory: 'inventory', playbook: 'deploy_tomcat.yml'      }
   }
  }
}
